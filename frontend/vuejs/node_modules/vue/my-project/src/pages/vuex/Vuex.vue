<!--父组件中引入子组件-->

<template>
  <div class="vuex">
    <t-dialog :show.sync="show" @inc="handleClick"></t-dialog>
    <div v-if="show">show</div>
    <div v-else>unshow</div>
    <br>
    <a href="javascript:;" @click="$store.state.dialog.show = true">点击</a>
    <vuex-dialog></vuex-dialog>
    <br>
    <!--使用 $store.commit('switch_dialog') 来触发 mutations 中的 switch_dialog 方法 -->
    <a href="javascript:;" @click="$store.commit('switch_dialog')">点击1</a>
    <vuex-dialog></vuex-dialog>
    <br>
    <!--使用 $store.dispatch('switch_dialog') 来触发 action 中的 switch_dialog 方法 -->
    <!--将异步操作放在 action 中 -->
    <a href="javascript:;" @click="$store.dispatch('switch_dialog')">点击2</a>
    <vuex-dialog></vuex-dialog>

    <div v-show="$store.getters.not_show">不显示</div>
  </div>
</template>

<script>
import dialog from '@/components/dialog.vue'
import vuex from '@/components/vuex.vue'
export default {
  name: 'Vuex',
  data () {
    return {
      show: false
    }
  },
  methods: {
    handleClick (value) {
      this.show = value
    }
  },
  components: {
    't-dialog': dialog,
    'vuex-dialog': vuex
  }
}
</script>
